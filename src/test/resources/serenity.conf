serenity {
  take.screenshots = FOR_EACH_ACTION
  serenity.step.delay.in.milliseconds = 6000
}

headless.mode = true

webdriver {
  driver = chrome
  capabilities {
    browserName = "chrome"
    acceptInsecureCerts = true
    "goog:chromeOptions" {
      args = [
        "--headless",
        "--no-sandbox",
        "--disable-dev-shm-usage",
        "--disable-gpu",
        "--disable-default-apps",
        "--disable-popup-blocking",
        "--disable-extensions",
        "--disable-infobars",
        "--disable-translate",
        "--disable-logging",
        "--disable-web-security",
        "--ignore-certificate-errors",
        "--start-maximized",
        "--window-size=1280,1024",
        "--remote-allow-origins=*",
        "--disable-blink-features=AutomationControlled",
        "--user-data-dir=/tmp/chrome-${random.int}"
      ]
    }
  }
}
